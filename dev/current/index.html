<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="agenda-ui" style="padding: 10px"></div>
    <style>
      html {
        font-family: Montserrat;
      }
      * {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
        list-style: none;
      }

      .agenda-wrapper {
        display: flex;
        width: 100%;
        margin: auto;
        flex-direction: column;
      }

      .agenda-head {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        border-top-right-radius: 8px;
        border-top-left-radius: 8px;
        overflow: hidden;
        align-items: center;
      }
      @media screen and (max-width: 767px) {
        .agenda-head {
          flex-direction: column;
        }
      }
      .agenda-days {
        display: flex;
        flex-direction: row;
      }
      @media screen and (max-width: 767px) {
        .agenda-days {
          width: 100%;
          text-align: center;
          font-size: 14px;
        }
      }
      .agenda-days li {
        padding: 10px;
        background: #e8e8e8;
        color: #2a2a2a;
        cursor: pointer;
        font-size: 14px;
      }
      .agenda-days li.active {
        border-top: solid 2px #42d886;
        background: #f5f5f5;
        font-weight: 700;
      }
      .agenda-days li:last-child {
        border-top-right-radius: 8px;
      }
      .agenda-timezone {
        display: flex;
        align-items: center;
        font-weight: 700;
        padding: 10px;
        font-size: 14px;
      }
      .agenda-timezone #select-tz {
        display: none;
        margin-left: 5px;
        padding: 1px;
        max-width: 150px;
        font-family: Montserrat;
        font-size: 10px;
        border: none;
        border-bottom: 1px solid #ccc;
        outline: none;
        cursor: pointer;
      }
      .agenda-timezone .changeTz {
        display: none;
        margin: 0 5px;
        color: #3c90fa;
        font-size: 12px;
        text-decoration: none;
      }
      @media screen and (max-width: 767px) {
        .agenda-timezone {
          text-align: center;
          padding: 10px 0;
          font-size: 12px;
          background: #f5f5f5;
          width: 100%;
        }
      }
      .agenda-body,
      .col-1,
      .col-2 {
        display: flex;
        background: #f5f5f5;
      }

      .agenda-body .col-1 {
        display: flex;
        flex-direction: column;
        width: 175px;
      }

      @media screen and (max-width: 767px) {
        .agenda-body .col-1 {
          width: 120px;
        }
      }
      .agenda-body .col-1 div {
        display: flex;
        width: 100%;
        align-items: flex-start;
        justify-content: center;
        color: #fff;
        font-size: 12px;
        flex-direction: column;
        padding: 10px;
        text-align: center;
        font-weight: 700;
        border-bottom: 1px solid #eaeaea;
      }
      .agenda-body .col-1 div:last-child {
        border-bottom: none;
      }
      .agenda-body .col-1 .desc {
        font-size: 10px;
      }
      .agenda-body .col-1 .space {
        height: 60px;
      }
      .agenda-body .col-2 {
        position: relative;
        width: calc(100% - 175px);
        overflow-x: auto;
        display: flex;
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      @media screen and (max-width: 767px) {
        .agenda-body .col-2 {
          width: calc(100% - 120px);
        }
      }
      .agenda-body .col-2::-webkit-scrollbar {
        display: none;
      }
      .col-2 .marker {
        position: absolute;
        height: 100%;
        bottom: 0;
        display: flex;
        width: 60px;
        align-items: flex-start;
        justify-content: center;
        flex-direction: row;
        flex-wrap: wrap;
        text-align: center;
        z-index: 1;
      }
      .col-2 .marker i {
        font-style: normal;
        font-size: 12px;
        background: #f02849;
        color: #fff;
        line-height: 1;
      }
      .col-2 .marker i:first-child {
        width: 100%;
        padding: 3px;
        border-radius: 3px;
      }
      .col-2 .marker i.line {
        width: 0.2px;
        height: calc(100% - 18px);
      }
      .col-2 .mid-col-1 {
        position: relative;
      }
      .col-2 .mid-col-2 {
        display: flex;
        padding: 20px;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      .col-2 .mid-col-2 img {
        width: 40px;
      }
      .col-2 .mid-col-2 p {
        font-size: 14px;
        white-space: nowrap;
      }
      .hour-denomination,
      .calendar-blocks {
        position: relative;
        display: flex;
        flex-direction: row;
      }
      .calendar-breakouts {
        display: flex;
        flex-wrap: wrap;
      }
      .hour-denomination .time,
      .calendar-blocks .block,
      .parent-breakouts .block {
        display: flex;
        width: 60px;
        height: 60px;
        font-size: 12px;
        align-items: center;
        justify-content: center;
      }
      .calendar-blocks .block,
      .calendar-breakouts .block {
        position: relative;
        border-bottom: 2px solid #eaeaea;
        background: #fff;
      }
      .calendar-blocks .agenda,
      .parent-breakouts .breakout,
      .calendar-blocks .tooltip,
      .calendar-breakouts .tooltip {
        display: flex;
        position: absolute;
        margin: auto;
        height: calc(60px - 12px);
        top: 0;
        bottom: 0;
        border-radius: 4px;
        padding: 5px;
        align-items: center;
        text-decoration: none;
      }
      .calendar-blocks .tooltip,
      .calendar-breakouts .tooltip {
        display: none;
        position: absolute;
        background: #262626;
        z-index: 2;
        bottom: -116px;
        left: 0;
        white-space: nowrap;
        font-size: 10px;
        color: #fff;
      }
      .calendar-blocks .tooltip:before,
      .calendar-breakouts .tooltip:before {
        position: absolute;
        content: "";
        width: 0;
        height: 0;
        border-style: solid;
        border-width: 0 10px 10px 10px;
        border-color: transparent transparent #262626 transparent;
        top: -10px;
        z-index: 3;
        left: 10px;
      }
      .calendar-blocks .tooltip span,
      .calendar-breakouts .tooltip span {
        display: block;
      }
      .calendar-blocks .agenda:hover > .tooltip,
      .calendar-breakouts .breakout:hover > .tooltip {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: center;
        overflow: unset;
      }
      .calendar-breakouts .breakout-last:hover > .tooltip {
        bottom: 0;
        left: 105%;
      }
      .calendar-breakouts .breakout-last .tooltip:before {
        position: absolute;
        content: "";
        width: 0;
        height: 0;
        border-style: solid;
        border-width: 10px 10px 10px 0;
        border-color: transparent #262626 transparent transparent;
        left: -10px;
        top: 50%;
        transform: translateY(-50%);
      }
      .agenda-breakout-label {
        background-color: rgb(60, 180, 255);
        min-height: 60px;
      }
      .calendar-blocks .agenda p,
      .parent-breakouts .breakout p {
        font-size: 10px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .calendar-blocks .agenda p span,
      .parent-breakouts .breakout p span {
        display: block;
      }
      .agenda .images,
      .breakout .images {
        display: flex;
        height: 100%;
      }
      .agenda .images img,
      .breakout .images img {
        display: block;
        height: 100%;
        margin-right: 4px;
        box-sizing: border-box;
      }
      .calendar-blocks .block:before,
      .calendar-breakouts .block:before {
        content: "";
        width: 2px;
        height: 100%;
        background: #eaeaea;
      }
      .calendar-breakouts .parent-breakouts {
        display: flex;
        position: relative;
        flex-direction: row;
        width: 100%;
      }
    </style>
    <div class="agenda-wrapper">
      <div class="agenda-head">
        <ul class="agenda-days"></ul>
        <div class="agenda-timezone">
          <p class="currentTz"></p>
          <select name="" id="select-tz"></select>
          <a href="#" class="changeTz">Change</a>
        </div>
      </div>
      <div class="agenda-body">
        <div class="col-1" id="right-col">
          <!-- <div class="space"></div> -->
          <!-- <div class="agenda-calendar-label"></div>
          <div class="agenda-breakout-label"></div> -->
        </div>
        <div class="col-2">
          <div class="mid-col-1">
            <span class="marker"><i>Now</i><i class="line"></i></span>
            <div class="agenda-hours">
              <div class="hour-denomination"></div>
            </div>
            <div class="agenda-calendar">
              <div class="calendar-blocks"></div>
            </div>
            <div class="agenda-breakout">
              <div class="calendar-breakouts"></div>
            </div>
          </div>
          <div class="mid-col-2">
            <img
              src="https://s3.ap-southeast-1.amazonaws.com/content.gevme.com/2fee5016220f40ac89d4c3c6c4f524c2.png"
              alt="See you"
            />
            <p class="end-note">Thank you! See You Next Time!</p>
            <p class="end-note">[Translation Missing]</p>
          </div>
        </div>
      </div>
    </div>
    <script>
      "use strict";
      (function () {
        var theAgendaUI = document.querySelector(".agenda-wrapper");
        theAgendaUI.style.display = "none";
        var checkingTime = [];
        var checkAgendaTarget = setInterval(function () {
          var agendaTarget = document.querySelector(".agenda-ui");
          if (agendaTarget) {
            var dragScroll = function dragScroll(initial) {
              var container = document.querySelector(".col-2");
              var isDown = !1;
              var startX = 0;
              var scrollLeft = 0;
              container.scrollLeft = initial ? initial : 0;
              var mouseDownHandler = function mouseDownHandler(a) {
                (isDown = !0),
                  (container.style.cursor = "grabbing"),
                  (startX = a.pageX - container.offsetLeft),
                  (scrollLeft = container.scrollLeft),
                  container.addEventListener("mouseup", mouseUpHandler),
                  container.addEventListener("mouseleave", mouseUpHandler),
                  container.addEventListener("mousemove", mouseMoveHandler);
              };
              var mouseUpHandler = function mouseUpHandler(a) {
                (container.style.cursor = "grab"), (isDown = !1);
              };
              var mouseMoveHandler = function mouseMoveHandler(a) {
                a.preventDefault();
                if (isDown) {
                  var i = 2 * (a.pageX - container.offsetLeft - startX);
                  container.scrollLeft = scrollLeft - i;
                }
              };
              container.addEventListener("mousedown", mouseDownHandler);
            };
            var isDateEqual = function isDateEqual(data) {
              var y = calculateBetweenLocalAndDefaultTz(
                data.defaultCity,
                data.defaultTimezoneOffset
              );

              var today = new Date(y);
              var dd = String(today.getDate()).padStart(2, "0");
              var mm = String(today.getMonth() + 1).padStart(2, "0");
              var yyyy = today.getFullYear();
              var currentDay = new Date(mm + "/" + dd + "/" + yyyy);
              var testDate = new Date(data.date);
              for (var itrvl = 0; itrvl < checkingTime.length; itrvl++) {
                clearInterval(checkingTime[itrvl]);
              }
              if (testDate.getTime() === currentDay.getTime()) {
                checkRangeInSession(data);
              }
              return testDate.getTime() === currentDay.getTime();
            };
            var checkRangeInSession = function checkRangeInSession(data) {
              var dt = calculateBetweenLocalAndDefaultTz(
                data.defaultCity,
                data.defaultTimezoneOffset
              );
              var startTime = data.from;
              var endTime = data.to;
              var s = startTime.split(":");
              var dt1 = new Date(
                dt.getFullYear(),
                dt.getMonth(),
                dt.getDate(),
                parseInt(s[0]),
                parseInt(s[1]),
                parseInt(s[2])
              );
              var e = endTime.split(":");
              var dt2 = new Date(
                dt.getFullYear(),
                dt.getMonth(),
                dt.getDate(),
                parseInt(e[0]),
                parseInt(e[1]),
                parseInt(e[2])
              );
              if (dt >= dt1 && dt <= dt2) {
                var from = new Date(data.date + " " + data.from);
                var to = new Date(dt);
                var secondsDiff = checkSecondsDiff(from, to);
                var markerPos = (secondsDiff / 60 / 5) * 60;
                marker.style.display = "flex";
                marker.style.left = "unset";
                marker.style.left = markerPos + "px";
                dragScroll(markerPos);
                startCheckingTime(data);
              }
            };
            var calculateBetweenLocalAndDefaultTz = function calculateBetweenLocalAndDefaultTz(
              city,
              offset
            ) {
              var d = new Date();
              var utc = d.getTime() + d.getTimezoneOffset() * 6e4;
              var nd = new Date(utc + 36e5 * offset);
              return nd;
            };
            var convertTimeZone = function convertTimeZone(city, offset, date) {
              console.log("convertTimeZone", city, offset, date);
              var d = new Date(date);
              var utc = d.getTime() + d.getTimezoneOffset() * 6e4;
              var nd = new Date(utc + 36e5 * offset);
              return nd;
            };
            var checkActive = function checkActive(tabs) {
              var withActive = false;
              tabs.forEach(function (tab) {
                if (tab.classList.contains("active")) {
                  withActive = true;
                }
              });
              return withActive;
            };
            var checkSecondsDiff = function checkSecondsDiff(a, b) {
              if (a.getTime() < b.getTime()) {
                var diff = (a.getTime() - b.getTime()) / 1e3;
                diff /= 60 * 60;
                return Math.abs(diff * 60 * 60);
              }
            };
            var checkTabActive = function checkTabActive() {
              var tabs = document.querySelectorAll(".tab");
              tabs.forEach(function (tab) {
                if (tab.classList.contains("active")) {
                  fillTimeTable(eventData[tab.dataset.id]);
                  fillLabels(eventData[tab.dataset.id]);
                  fillCalendarBlocks(eventData[tab.dataset.id]);
                  fillBreakOutBlocks(eventData[tab.dataset.id]);
                  isDateEqual(eventData[tab.dataset.id]);
                }
              });
            };
            var fillTimeTable = function fillTimeTable(data, convertedFrom) {
              var hourDenomination = document.querySelector(
                ".hour-denomination"
              );
              hourDenomination.innerHTML = "";

              var from = new Date(data.date + " " + data.from);
              var to = new Date(data.date + " " + data.to);

              var secondsDiff = checkSecondsDiff(from, to);
              var minuteBase = data.from.split(":");
              var counter = parseInt(minuteBase[1]);
              var base = parseFloat(convertedFrom ? convertedFrom : data.from);

              for (var t = 0; t <= secondsDiff / 60 / 5; t++) {
                var timeMarks = document.createElement("div");
                if (counter > 55) {
                  base++;
                  counter = 0;
                }

                if (base === 24 && counter > 0) {
                  base = 0;
                  counter = 0;
                }

                timeMarks.classList.add("time");
                timeMarks.innerHTML = base + ":" + ("0" + counter).slice(-2);
                hourDenomination.appendChild(timeMarks);
                counter += 5;
              }

              dragScroll();
            };
            var fillCalendarBlocks = function fillCalendarBlocks(data) {
              var agendaCalendar = document.querySelector(".agenda-calendar");
              agendaCalendar.innerHTML = "";
              if (data.agenda.length) {
                for (var blck = 0; blck < data.agenda.length; blck++) {
                  var calendarBlocks = document.createElement("div");
                  calendarBlocks.className = "calendar-blocks";

                  var from = new Date(data.date + " " + data.from);
                  var to = new Date(data.date + " " + data.to);
                  var secondsDiff = checkSecondsDiff(from, to);
                  var counter = 0;
                  var base = parseInt(data.from);

                  for (var t = 0; t <= secondsDiff / 60 / 5; t++) {
                    if (counter > 55) {
                      base++;
                      counter = 0;
                    }
                    var block = document.createElement("div");
                    block.classList.add("block");
                    calendarBlocks.appendChild(block);
                    counter += 5;
                  }

                  for (
                    var ses = 0;
                    ses < data.agenda[blck].items.length;
                    ses++
                  ) {
                    var thisAgenda = document.createElement("a");
                    var thisAgendaImages = document.createElement("div");
                    var thisAgendaTitle = document.createElement("p");
                    var thisAgendaTitleTrans = document.createElement("span");
                    var thisAgendaTooltip = document.createElement("p");
                    var thisAgendaTooltipTrans = document.createElement("span");
                    var startFrom = new Date(
                      data.date + " " + data.agenda[blck].items[ses].from
                    );
                    var endTo = new Date(
                      data.date + " " + data.agenda[blck].items[ses].to
                    );
                    var thisAgendaWidth =
                      (checkSecondsDiff(startFrom, endTo) / 60 / 5) * 60 - 2;
                    var left1Pos =
                      (checkSecondsDiff(
                        new Date(data.date + " " + data.from),
                        startFrom
                      ) /
                        60 /
                        5) *
                        60 +
                      31;

                    // checking if date is passed
                    var currentYTD = calculateBetweenLocalAndDefaultTz(
                      data.defaultCity,
                      data.defaultTimezoneOffset
                    );

                    var getLocalTimezoneDate =
                      currentYTD.getMonth() +
                      1 +
                      "/" +
                      currentYTD.getDate() +
                      "/" +
                      currentYTD.getFullYear();

                    // end of checking if date is passed
                    if (data.agenda[blck].items[ses].people.length) {
                      for (
                        var peps = 0;
                        peps < data.agenda[blck].items[ses].people.length;
                        peps++
                      ) {
                        if (data.agenda[blck].items[ses].people[peps].image) {
                          var pepsImg = document.createElement("img");
                          pepsImg.src =
                            data.agenda[blck].items[ses].people[peps].image;
                          pepsImg.alt =
                            data.agenda[blck].items[ses].people[peps].name;
                          thisAgendaImages.appendChild(pepsImg);
                        }
                        continue;
                      }
                    }
                    thisAgendaTitle.textContent =
                      data.agenda[blck].items[ses].title;
                    thisAgendaTitle.style.color =
                      data.agenda[blck].items[ses].textColor;
                    thisAgendaTitleTrans.style.fontStyle = "italic";
                    thisAgendaTitleTrans.textContent =
                      data.agenda[blck].items[ses].translation;
                    thisAgendaTitleTrans.style.color =
                      data.agenda[blck].items[ses].textColor;
                    thisAgendaTooltip.className = "tooltip";
                    thisAgendaTooltip.textContent = data.agenda[blck].items[ses]
                      .tooltip
                      ? data.agenda[blck].items[ses].tooltip
                      : data.agenda[blck].items[ses].title;
                    thisAgendaTooltipTrans.textContent = data.agenda[blck]
                      .items[ses].tooltip
                      ? ""
                      : data.agenda[blck].items[ses].translation;
                    thisAgendaTooltipTrans.style.fontStyle = "italic";
                    thisAgendaTooltip.appendChild(thisAgendaTooltipTrans);
                    thisAgenda.className =
                      "agenda track-" + blck + "-agenda-" + ses;
                    thisAgendaImages.classList.add("images");
                    thisAgenda.appendChild(thisAgendaTooltip);
                    thisAgenda.appendChild(thisAgendaImages);
                    thisAgendaTitle.appendChild(thisAgendaTitleTrans);
                    thisAgenda.appendChild(thisAgendaTitle);
                    thisAgenda.style.width = thisAgendaWidth + "px";
                    thisAgenda.style.backgroundColor =
                      data.agenda[blck].items[ses].bgColor;
                    if (new Date(data.date) < new Date(getLocalTimezoneDate)) {
                      thisAgenda.style.backgroundColor =
                        data.agenda[blck].items[ses].passedBg;
                    }
                    thisAgenda.style.left = left1Pos + "px";
                    thisAgenda.href = data.agenda[blck].items[ses].url;
                    calendarBlocks.append(thisAgenda);
                  }
                  agendaCalendar.appendChild(calendarBlocks);
                }
              }
            };
            var fillBreakOutBlocks = function fillBreakOutBlocks(data) {
              var calendarBreakouts = document.querySelector(
                ".calendar-breakouts"
              );
              calendarBreakouts.innerHTML = "";
              if (data.breakouts) {
                var from = new Date(data.date + " " + data.from);
                var to = new Date(data.date + " " + data.to);
                var secondsDiff = checkSecondsDiff(from, to);
                for (var b = 0; b < data.breakouts.items.length; b++) {
                  var thisBreakoutParent = document.createElement("div");
                  var thisBreakout = document.createElement("a");
                  var thisBreakoutTitle = document.createElement("p");
                  var thisBreakoutDesc = document.createElement("span");
                  var thisBreakoutImages = document.createElement("div");
                  var thisBreakoutToolTip = document.createElement("p");
                  var thisBreakoutToolTipTrans = document.createElement("span");
                  // checking if date is passed
                  var currentYTD = calculateBetweenLocalAndDefaultTz(
                    data.defaultCity,
                    data.defaultTimezoneOffset
                  );

                  var getLocalTimezoneDate =
                    currentYTD.getMonth() +
                    1 +
                    "/" +
                    currentYTD.getDate() +
                    "/" +
                    currentYTD.getFullYear();

                  // end of checking if date is passed

                  var counter = 0;
                  var base = parseInt(data.from);
                  var startFrom = new Date(
                    data.date + " " + data.breakouts.items[b].from
                  );
                  var endTo = new Date(
                    data.date + " " + data.breakouts.items[b].to
                  );
                  var thisBreakoutWidth =
                    (checkSecondsDiff(startFrom, endTo) / 60 / 5) * 60 - 2;
                  var left1Pos =
                    (checkSecondsDiff(
                      new Date(data.date + " " + data.from),
                      startFrom
                    ) /
                      60 /
                      5) *
                      60 +
                    31;
                  for (var t = 0; t <= secondsDiff / 60 / 5; t++) {
                    if (counter > 55) {
                      base++;
                      counter = 0;
                    }
                    var block = document.createElement("div");
                    block.classList.add("block");
                    thisBreakoutParent.appendChild(block);
                    counter += 5;
                  }
                  for (
                    var bpeps = 0;
                    bpeps < data.breakouts.items[b].people.length;
                    bpeps++
                  ) {
                    if (data.breakouts.items[b].people[bpeps].imageURL) {
                      var bpepsImg = document.createElement("img");
                      bpepsImg.src =
                        data.breakouts.items[b].people[bpeps].imageURL;
                      bpepsImg.alt = data.breakouts.items[b].people[bpeps].name;
                      thisBreakoutImages.appendChild(bpepsImg);
                    }
                  }

                  thisBreakoutToolTip.className = "tooltip";
                  thisBreakoutToolTip.textContent = data.breakouts.items[b]
                    .tooltip
                    ? data.breakouts.items[b].tooltip
                    : data.breakouts.items[b].title;
                  thisBreakoutToolTipTrans.textContent = data.breakouts.items[b]
                    .tooltip
                    ? ""
                    : data.breakouts.items[b].translation;
                  thisBreakoutToolTipTrans.style.fontStyle = "italic";
                  thisBreakoutToolTip.appendChild(thisBreakoutToolTipTrans);
                  thisBreakout.appendChild(thisBreakoutToolTip);
                  thisBreakoutImages.className = "images";
                  thisBreakoutDesc.textContent =
                    data.breakouts.items[b].translation;
                  thisBreakoutDesc.style.fontStyle = "italic";
                  thisBreakoutTitle.textContent = data.breakouts.items[b].title;
                  thisBreakoutTitle.appendChild(thisBreakoutDesc);
                  thisBreakout.className = "breakout breakout-" + b;
                  if (data.breakouts.items.length - b === 1) {
                    thisBreakout.classList.add("breakout-last");
                  }
                  thisBreakout.style.width = thisBreakoutWidth + "px";
                  thisBreakout.style.left = left1Pos + "px";
                  thisBreakout.style.backgroundColor =
                    data.breakouts.items[b].bgColor;
                  if (new Date(data.date) < new Date(getLocalTimezoneDate)) {
                    thisBreakout.style.backgroundColor =
                      data.breakouts.items[b].passedBg;
                  }
                  thisBreakout.href = data.breakouts.items[b].url;
                  thisBreakout.style.color = data.breakouts.items[b].textColor;
                  thisBreakout.appendChild(thisBreakoutImages);
                  thisBreakout.appendChild(thisBreakoutTitle);
                  thisBreakoutParent.className =
                    "parent-breakouts parent-breakouts-" + b;
                  thisBreakoutParent.appendChild(thisBreakout);
                  calendarBreakouts.appendChild(thisBreakoutParent);
                }
              }
            };
            var fillLabels = function fillLabels(data) {
              var rightCol = document.querySelector("#right-col");
              rightCol.innerHTML = "";
              var space = document.createElement("div");
              space.className = "space";
              var breakoutLabel = document.createElement("div");
              var breakoutDesc = document.createElement("p");
              breakoutLabel.style.height = "60px";

              space.style.height = "60px";
              rightCol.appendChild(space);

              if (data.agenda.length) {
                for (var tracks = 0; tracks < data.agenda.length; tracks++) {
                  var agendaLabel = document.createElement("div");
                  var agendaDesc = document.createElement("p");

                  agendaLabel.className = "agenda-calendar-label";
                  agendaDesc.textContent = "No agenda";

                  agendaLabel.textContent = data.agenda[tracks].name;
                  agendaDesc.textContent = data.agenda[tracks].description;
                  agendaDesc.className = "desc";
                  agendaDesc.style.fontStyle = "italic";
                  agendaLabel.style.height = "60px";
                  agendaLabel.style.backgroundColor =
                    data.agenda[tracks].backgroundColor;
                  agendaLabel.appendChild(agendaDesc);
                  rightCol.appendChild(agendaLabel);
                }
              }
              if (data.breakouts) {
                breakoutLabel.textContent = data.breakouts.name;
                breakoutDesc.textContent = data.breakouts.description;
                breakoutDesc.classList.add("desc");
                breakoutDesc.style.fontStyle = "italic";
                breakoutLabel.style.height =
                  data.breakouts.items.length * 60 + "px";
                breakoutLabel.style.backgroundColor =
                  data.breakouts.backgroundColor;
                breakoutLabel.appendChild(breakoutDesc);
              }
              rightCol.appendChild(breakoutLabel);
            };
            var switchTab = function switchTab() {
              var tabs = document.querySelectorAll(".tab");
              marker.style.display = "none";
              tabs.forEach(function (tab) {
                if (tab.classList.contains("active")) {
                  tab.classList.remove("active");
                }
              });
              this.classList.add("active");
              checkTabActive();
            };
            var activeSessions = function activeSessions(data) {
              if (data.agenda.length) {
                for (var agnd = 0; agnd < data.agenda.length; agnd++) {
                  var convertedt = calculateBetweenLocalAndDefaultTz(
                    data.defaultCity,
                    data.defaultTimezoneOffset
                  );

                  for (
                    var actSes = 0;
                    actSes < data.agenda[agnd].items.length;
                    actSes++
                  ) {
                    var startTime = data.agenda[agnd].items[actSes].from;
                    var endTime = data.agenda[agnd].items[actSes].to;
                    var currentSess = document.querySelector(
                      ".track-" + agnd + "-agenda-" + actSes
                    );
                    currentSess.style.backgroundColor =
                      data.agenda[agnd].items[actSes].bgColor;
                    var s = startTime.split(":");
                    var dt1 = new Date(
                      convertedt.getFullYear(),
                      convertedt.getMonth(),
                      convertedt.getDate(),
                      parseInt(s[0]),
                      parseInt(s[1]),
                      parseInt(s[2])
                    );
                    var e = endTime.split(":");
                    var dt2 = new Date(
                      convertedt.getFullYear(),
                      convertedt.getMonth(),
                      convertedt.getDate(),
                      parseInt(e[0]),
                      parseInt(e[1]),
                      parseInt(e[2])
                    );
                    if (convertedt >= dt1 && convertedt <= dt2) {
                      currentSess.style.backgroundColor =
                        data.agenda[agnd].items[actSes].highlightBg;
                    }
                    if (dt2 < convertedt) {
                      currentSess.style.backgroundColor =
                        data.agenda[agnd].items[actSes].passedBg;
                    }
                  }
                }
              }

              if (data.breakouts) {
                for (
                  var actBrk = 0;
                  actBrk < data.breakouts.items.length;
                  actBrk++
                ) {
                  var startTime = data.breakouts.items[actBrk].from;
                  var endTime = data.breakouts.items[actBrk].to;
                  var currentBreakout = document.querySelector(
                    ".breakout-" + actBrk
                  );
                  currentBreakout.style.backgroundColor =
                    data.breakouts.items[actBrk].bgColor;

                  var s = startTime.split(":");
                  var dt1 = new Date(
                    convertedt.getFullYear(),
                    convertedt.getMonth(),
                    convertedt.getDate(),
                    parseInt(s[0]),
                    parseInt(s[1]),
                    parseInt(s[2])
                  );
                  var e = endTime.split(":");
                  var dt2 = new Date(
                    convertedt.getFullYear(),
                    convertedt.getMonth(),
                    convertedt.getDate(),
                    parseInt(e[0]),
                    parseInt(e[1]),
                    parseInt(e[2])
                  );
                  if (convertedt >= dt1 && convertedt <= dt2) {
                    currentBreakout.style.backgroundColor =
                      data.breakouts.items[actBrk].highlightBg;
                  }

                  if (dt2 < convertedt) {
                    currentBreakout.style.backgroundColor =
                      data.breakouts.items[actBrk].passedBg;
                  }
                }
              }
            };
            var startCheckingTime = function startCheckingTime(data) {
              var from = new Date(data.date + " " + data.from);
              var to = new Date(data.date + " " + data.to);
              var secondsDiff = checkSecondsDiff(from, to);
              var ceiling = (secondsDiff / 60 / 5) * 60;
              var secondMove = 0.2;
              var runMarkerRun = setInterval(function () {
                var oldValue = window
                  .getComputedStyle(marker, null)
                  .getPropertyValue("left");
                var convertedOldValue = parseFloat(oldValue.replace("px", ""));
                var newValue = convertedOldValue + secondMove;
                if (newValue > ceiling) {
                  marker.style.display = "none";
                  for (var itrvl = 0; itrvl < checkingTime.length; itrvl++) {
                    clearInterval(checkingTime[itrvl]);
                  }
                }
                marker.style.left = newValue + "px";
                activeSessions(data);
              }, 1e3);
              checkingTime.push(runMarkerRun);
            };
            var addDayTab = function addDayTab() {
              var agendaDays = document.querySelector(".agenda-days");
              eventData.map(function (day, index) {
                var tab = document.createElement("li");
                tab.className = index + " tab";
                tab.dataset.id = index;
                if (isDateEqual(day)) {
                  tab.classList.add("active");
                }
                var p = document.createElement("p");
                p.textContent =
                  day.name +
                  " - " +
                  new Date(day.date).toLocaleString("default", {
                    month: "short",
                  }) +
                  " " +
                  new Date(day.date).getDate();
                tab.appendChild(p);
                tab.addEventListener("click", switchTab);
                agendaDays.append(tab);
              });
              var tabs = document.querySelectorAll(".tab");
              if (!checkActive(tabs)) {
                tabs[0].classList.add("active");
              }
              checkTabActive();
            };
            var handleTZSelection = function handleTZSelection(
              tZSelection,
              thisBtn,
              selection,
              selected,
              currentTz,
              func
            ) {
              var tabs = document.querySelectorAll(".tab");
              tabs.forEach(function (tab) {
                if (tab.classList.contains("active")) {
                  var dateToConvert = new Date(
                    eventData[tab.dataset.id].date +
                      " " +
                      eventData[tab.dataset.id].from +
                      " GMT" +
                      eventData[tab.dataset.id].defaultTimezoneOffset
                  );
                  var newDateFromLocal = convertTimeZone(
                    selected.dataset.city,
                    selected.value,
                    dateToConvert
                  );

                  var newTimeBase =
                    newDateFromLocal.getHours() +
                    ":" +
                    newDateFromLocal.getMinutes() +
                    ":" +
                    newDateFromLocal.getSeconds();

                  console.log(newTimeBase);

                  fillTimeTable(eventData[tab.dataset.id], newTimeBase);
                }
              });
              currentTz.textContent = selected.textContent;
              thisBtn.style.display = "block";
              selection.style.display = "none";
              currentTz.style.display = "inline";

              tZSelection.removeEventListener("change", func);
            };
            var changeTimeZone = function changeTimeZone() {
              var thisBtn = this;
              var currentTzWrap = document.querySelector(".currentTz");
              var currentTz = currentTzWrap.querySelector(".current-timezone");
              var tZSelection = document.querySelector("#select-tz");

              thisBtn.style.display = "none";

              for (var tz = 0; tz < timezoneData.length; tz++) {
                var opt = document.createElement("option");
                opt.value = timezoneData[tz].offset;
                opt.dataset.city = timezoneData[tz].city;
                opt.dataset.gtm = timezoneData[tz].gtm;
                opt.textContent =
                  timezoneData[tz].city + " " + timezoneData[tz].gtm;

                tZSelection.appendChild(opt);
                tZSelection.style.display = "block";
                currentTz.style.display = "none";
              }

              tZSelection.addEventListener("change", function selectFunc() {
                var selection = this;
                var selected = tZSelection.options[tZSelection.selectedIndex];
                handleTZSelection(
                  tZSelection,
                  thisBtn,
                  selection,
                  selected,
                  currentTz,
                  selectFunc
                );
              });
            };
            var eventData = [
              {
                name: "Day 1",
                date: "09/21/2020", // the date
                from: "09:30:00", // start time (may expand as a scope)
                to: "17:00:00", // end time (may expand as a scope)
                defaultCity: "Philippines", // Default timezone
                defaultTimezoneOffset: "+8", // in GMT
                agenda: [
                  {
                    name: "Main Track",
                    description: "Some description here...",
                    backgroundColor: "#104836",
                    items: [
                      {
                        from: "10:00:00", // start time (exact)
                        to: "10:10:00", // end time (exact)
                        title: "Championing the female economy",
                        translation: "Potenciando la economía femenina",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#104836", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#42d886",
                        passedBg: "#b3afaf",
                        sessionType: "Remarks",
                        numOfSpeakers: "2",
                      },
                      {
                        from: "10:10:00", // start time (exact)
                        to: "10:20:00", // end time (exact)
                        title: "Keynote",
                        translation: "Discurso de apertura",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#104836", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#42d886",
                        passedBg: "#b3afaf",
                        sessionType: "Keynote",
                        numOfSpeakers: "1",
                      },
                      {
                        from: "10:20:00", // start time (exact)
                        to: "10:30:00", // end time (exact)
                        title: "Data driving the female economy",
                        translation: "Datos que impulsan la economía femenina",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#104836", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#42d886",
                        passedBg: "#b3afaf",
                        sessionType: "Presentation",
                        numOfSpeakers: "1",
                      },
                      {
                        from: "10:30:00", // start time (exact)
                        to: "11:15:00", // end time (exact)
                        title:
                          "The opportunity of championing the female economy",
                        translation:
                          "La oportunidad de potenciar la economía femenina",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#104836", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#42d886",
                        passedBg: "#b3afaf",
                        sessionType: "Panel Discussion",
                        numOfSpeakers: "5",
                      },
                      {
                        from: "11:15:00", // start time (exact)
                        to: "11:25:00", // end time (exact)
                        title: "Break",
                        translation: "",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#999", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#cacaca",
                        sessionType: "",
                        numOfSpeakers: "",
                      },
                      {
                        from: "11:25:00", // start time (exact)
                        to: "11:35:00", // end time (exact)
                        title:
                          "Accelerating women's economic power through non-financial services",
                        translation:
                          "Acelerando el poder económico de las mujeres a través de los servicios no financieros",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#104836", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#42d886",
                        passedBg: "#b3afaf",
                        sessionType: "Fireside Chat",
                        numOfSpeakers: "2",
                      },
                      {
                        from: "12:05:00", // start time (exact)
                        to: "12:15:00", // end time (exact)
                        title: "Regroup and consolidation",
                        translation: "Reagrupamiento y consolidación",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#104836", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#42d886",
                        passedBg: "#b3afaf",
                        sessionType: "Remarks",
                        numOfSpeakers: "1",
                      },
                      {
                        from: "12:15:00", // start time (exact)
                        to: "12:35:00", // end time (exact)
                        title: "Wealth tech: A new way to make money",
                        translation:
                          "Tecnología en la gestión de patrimonios: una nueva forma de ganar dinero",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#104836", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#42d886",
                        passedBg: "#b3afaf",
                        sessionType: "",
                        numOfSpeakers: "",
                      },
                      {
                        from: "12:35:00", // start time (exact)
                        to: "12:55:00", // end time (exact)
                        title: "Day 1 highlights and learnings",
                        translation:
                          "Puntos destacados y aprendizajes del día 1",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#104836", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#42d886",
                        passedBg: "#b3afaf",
                        sessionType: "Remarks",
                        numOfSpeakers: "1",
                      },
                    ],
                  },
                ],
                breakouts: {
                  name: "Breakouts",
                  description: "Some description here...",
                  backgroundColor: "#3cb4ff",
                  items: [
                    {
                      title: "-",
                      translation:
                        "Sesión de Trabajo 1: El caso de negocios y la importancia de medir los servicios no financieros  (español)",
                      from: "11:35:00", // start time (exact)
                      to: "12:05:00", // end time (exact)
                      bgColor: "#3cb4ff",
                      textColor: "#fff",
                      highlightBg: "#6bd5ff",
                      passedBg: "#b3afaf",
                      url: "#",
                      people: [
                        {
                          name: "",
                          imageURL: "",
                        },
                      ],
                      sessionType: "Breakout Session",
                      numOfSpeakers: "3",
                    },
                    {
                      title:
                        "Breakout 2: NFS business case & how to measure it (English)",
                      translation:
                        "Sesión de Trabajo 2: El caso de negocios y la importancia de medir los servicios no financieros  (inglés)",
                      from: "11:35:00", // start time (exact)
                      to: "12:05:00", // end time (exact)
                      bgColor: "#3cb4ff",
                      textColor: "#fff",
                      highlightBg: "#6bd5ff",
                      passedBg: "#b3afaf",
                      url: "#",
                      people: [
                        {
                          name: "",
                          imageURL: "",
                        },
                      ],
                      sessionType: "Breakout Session",
                      numOfSpeakers: "3",
                    },
                    {
                      title: "Breakout 3: Tapping into SME ecoystem",
                      translation:
                        "Sesión de trabajo 3: Aprovechando el ecosistema de las PYMEs",
                      from: "11:35:00", // start time (exact)
                      to: "12:05:00", // end time (exact)
                      bgColor: "#3cb4ff",
                      textColor: "#fff",
                      highlightBg: "#6bd5ff",
                      passedBg: "#b3afaf",
                      url: "#",
                      people: [
                        {
                          name: "",
                          imageURL: "",
                        },
                      ],
                      sessionType: "Breakout Session",
                      numOfSpeakers: "3",
                    },
                    {
                      title:
                        "Breakout 4: Upskilling through eCommerce platforms",
                      translation:
                        "Sesión de trabajo 4: Mejorando las habilidades a través de las plataformas de comercio electrónico",
                      from: "11:35:00", // start time (exact)
                      to: "12:05:00", // end time (exact)
                      bgColor: "#3cb4ff",
                      textColor: "#fff",
                      highlightBg: "#6bd5ff",
                      passedBg: "#b3afaf",
                      url: "#",
                      people: [
                        {
                          name: "",
                          imageURL: "",
                        },
                      ],
                      sessionType: "Breakout Session",
                      numOfSpeakers: "4",
                    },
                  ],
                },
              },
              {
                name: "Day 2",
                date: "09/22/2020", // the date
                from: "13:30:00", // start time (may expand as a scope)
                to: "17:30:00", // end time (may expand as a scope)
                defaultCity: "Philippines", // Default timezone
                defaultTimezoneOffset: "+8", // in GMT
                agenda: [
                  {
                    name: "Main Track",
                    description: "Some description here...",
                    backgroundColor: "#104836",
                    items: [
                      {
                        from: "13:10:00", // start time (exact)
                        to: "13:30:00", // end time (exact)
                        title:
                          "The transformational opportunity of fintech on the female economy",
                        translation:
                          "La oportunidad de la transformación de las fintech en la economía femenina",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#104836", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#42d886",
                        passedBg: "#b3afaf",
                        sessionType: "Remarks",
                        numOfSpeakers: "1",
                      },
                      {
                        from: "13:30:00", // start time (exact)
                        to: "14:00:00", // end time (exact)
                        title:
                          "Blue sky vision - the impact of fintech on women's markets",
                        translation:
                          "Visión General: el impacto de las fintech en el segmento mujer",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#104836", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#42d886",
                        passedBg: "#b3afaf",
                        sessionType: "Fireside Chat",
                        numOfSpeakers: "2",
                      },
                      {
                        from: "14:00:00", // start time (exact)
                        to: "14:20:00", // end time (exact)
                        title: "Alliance fintech research",
                        translation: "Investigación fintech de la Alianza",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#104836", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#42d886",
                        passedBg: "#b3afaf",
                        sessionType: "Fireside Chat",
                        numOfSpeakers: "2",
                      },
                      {
                        from: "14:20:00", // start time (exact)
                        to: "14:50:00", // end time (exact)
                        title:
                          "How fintechs are and can support the full financial inclusion of women",
                        translation:
                          "Cómo las fintech están y pueden apoyar a la plena inclusión financiera de las mujeres",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#104836", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#42d886",
                        passedBg: "#b3afaf",
                        sessionType: "Panel Discussion",
                        numOfSpeakers: "5",
                      },
                    ],
                  },
                ],
              },
              {
                name: "Day 2",
                date: "09/23/2020", // the date
                from: "13:30:00", // start time (may expand as a scope)
                to: "17:30:00", // end time (may expand as a scope)
                defaultCity: "Philippines", // Default timezone
                defaultTimezoneOffset: "+8", // in GMT
                agenda: [
                  {
                    name: "Main Track",
                    description: "Some description here...",
                    backgroundColor: "#104836",
                    items: [
                      {
                        from: "13:10:00", // start time (exact)
                        to: "13:30:00", // end time (exact)
                        title:
                          "The transformational opportunity of fintech on the female economy",
                        translation:
                          "La oportunidad de la transformación de las fintech en la economía femenina",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#104836", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#42d886",
                        passedBg: "#b3afaf",
                        sessionType: "Remarks",
                        numOfSpeakers: "1",
                      },
                      {
                        from: "13:30:00", // start time (exact)
                        to: "14:00:00", // end time (exact)
                        title:
                          "Blue sky vision - the impact of fintech on women's markets",
                        translation:
                          "Visión General: el impacto de las fintech en el segmento mujer",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#104836", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#42d886",
                        passedBg: "#b3afaf",
                        sessionType: "Fireside Chat",
                        numOfSpeakers: "2",
                      },
                      {
                        from: "14:00:00", // start time (exact)
                        to: "14:20:00", // end time (exact)
                        title: "Alliance fintech research",
                        translation: "Investigación fintech de la Alianza",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#104836", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#42d886",
                        passedBg: "#b3afaf",
                        sessionType: "Fireside Chat",
                        numOfSpeakers: "2",
                      },
                      {
                        from: "14:20:00", // start time (exact)
                        to: "14:50:00", // end time (exact)
                        title:
                          "How fintechs are and can support the full financial inclusion of women",
                        translation:
                          "Cómo las fintech están y pueden apoyar a la plena inclusión financiera de las mujeres",
                        url: "#",
                        people: [
                          {
                            name: "",
                            image: "",
                          },
                        ],
                        tooltip: "",
                        bgColor: "#104836", // background color customizable
                        textColor: "#fff", // text color customizable
                        highlightBg: "#42d886",
                        passedBg: "#b3afaf",
                        sessionType: "Panel Discussion",
                        numOfSpeakers: "5",
                      },
                    ],
                  },
                ],
              },
            ];
            var marker = document.querySelector(".marker");
            var txtTimeZoneWrap = document.querySelector(".currentTz");
            var txtTimeZone = document.createElement("span");
            var changeTimeZoneBtn = document.querySelector(".changeTz");

            marker.style.display = "none";
            txtTimeZoneWrap.textContent = "Times displayed based on: ";
            txtTimeZone.className = "current-timezone";
            txtTimeZone.textContent = eventData[0].defaultCity;
            txtTimeZoneWrap.appendChild(txtTimeZone);
            theAgendaUI.style.display = "block";
            agendaTarget.appendChild(theAgendaUI);
            addDayTab();
            clearInterval(checkAgendaTarget);

            changeTimeZoneBtn.addEventListener("click", changeTimeZone);
          }
        });
      })();
    </script>
  </body>
</html>
